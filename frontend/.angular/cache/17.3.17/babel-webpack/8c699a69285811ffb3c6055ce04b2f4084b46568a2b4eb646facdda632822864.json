{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/material/toolbar\";\nimport * as i3 from \"@angular/material/icon\";\nimport * as i4 from \"@angular/material/button\";\nfunction CoffeeTalkComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function CoffeeTalkComponent_div_8_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.openAddDialog());\n    });\n    i0.ɵɵelementStart(2, \"mat-icon\");\n    i0.ɵɵtext(3, \"add\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\");\n    i0.ɵɵtext(5, \"Add New\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function CoffeeTalkComponent_div_8_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.closeMenu());\n    });\n    i0.ɵɵelementStart(7, \"mat-icon\");\n    i0.ɵɵtext(8, \"settings\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"span\");\n    i0.ɵɵtext(10, \"Preferences\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction CoffeeTalkComponent_div_9_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵelement(1, \"img\", 21);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"src\", ctx_r1.newImage, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction CoffeeTalkComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵlistener(\"click\", function CoffeeTalkComponent_div_9_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.closeAddDialog());\n    });\n    i0.ɵɵelementStart(1, \"div\", 12);\n    i0.ɵɵlistener(\"click\", function CoffeeTalkComponent_div_9_Template_div_click_1_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      return i0.ɵɵresetView($event.stopPropagation());\n    });\n    i0.ɵɵelementStart(2, \"h3\");\n    i0.ɵɵtext(3, \"Add New Coffee\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"input\", 13);\n    i0.ɵɵlistener(\"change\", function CoffeeTalkComponent_div_9_Template_input_change_4_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onImageSelected($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, CoffeeTalkComponent_div_9_div_5_Template, 2, 1, \"div\", 14);\n    i0.ɵɵelementStart(6, \"input\", 15);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function CoffeeTalkComponent_div_9_Template_input_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.newBrand, $event) || (ctx_r1.newBrand = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"input\", 16);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function CoffeeTalkComponent_div_9_Template_input_ngModelChange_7_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.newName, $event) || (ctx_r1.newName = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 17)(9, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function CoffeeTalkComponent_div_9_Template_button_click_9_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.addNewCoffee());\n    });\n    i0.ɵɵtext(10, \"Add\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function CoffeeTalkComponent_div_9_Template_button_click_11_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.closeAddDialog());\n    });\n    i0.ɵɵtext(12, \"Cancel\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.newImage);\n    i0.ɵɵadvance();\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.newBrand);\n    i0.ɵɵadvance();\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.newName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", !ctx_r1.newImage || !ctx_r1.newBrand || !ctx_r1.newName);\n  }\n}\nfunction CoffeeTalkComponent_div_12_span_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const star_r4 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", star_r4 ? \"\\u2605\" : \"\\u2606\", \" \");\n  }\n}\nfunction CoffeeTalkComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵelement(1, \"img\", 23);\n    i0.ɵɵelementStart(2, \"div\", 24);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 25);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 26);\n    i0.ɵɵtemplate(7, CoffeeTalkComponent_div_12_span_7_Template, 2, 1, \"span\", 27);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r5 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"src\", item_r5.image, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r5.brand);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r5.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.getStars(item_r5.rating));\n  }\n}\n// For Add New dialog\nshowAddDialog = false;\nnewImage: string | null;\nnull;\nnewBrand = '';\nnewName = '';\nopenAddDialog();\n{\n  this.showAddDialog = true;\n  this.showMenu = false;\n  this.newImage = null;\n  this.newBrand = '';\n  this.newName = '';\n}\ncloseAddDialog();\n{\n  this.showAddDialog = false;\n  this.newImage = null;\n  this.newBrand = '';\n  this.newName = '';\n}\nonImageSelected(event, any);\n{\n  const file = event.target.files[0];\n  if (file && file.type.match('image.*')) {\n    const reader = new FileReader();\n    reader.onload = e => {\n      this.cropToSquare(e.target.result);\n    };\n    reader.readAsDataURL(file);\n  } else {\n    this.newImage = null;\n  }\n}\ncropToSquare(dataUrl, string);\n{\n  const img = new window.Image();\n  img.onload = () => {\n    const size = 400;\n    const canvas = document.createElement('canvas');\n    canvas.width = size;\n    canvas.height = size;\n    const ctx = canvas.getContext('2d');\n    if (ctx) {\n      // Crop to center square\n      const minDim = Math.min(img.width, img.height);\n      const sx = (img.width - minDim) / 2;\n      const sy = (img.height - minDim) / 2;\n      ctx.drawImage(img, sx, sy, minDim, minDim, 0, 0, size, size);\n      this.newImage = canvas.toDataURL('image/jpeg');\n    } else {\n      this.newImage = dataUrl;\n    }\n  };\n  img.src = dataUrl;\n}\naddNewCoffee();\n{\n  if (this.newImage && this.newBrand && this.newName) {\n    this.coffeeItems.unshift({\n      image: this.newImage,\n      brand: this.newBrand,\n      name: this.newName,\n      rating: 3\n    });\n    this.closeAddDialog();\n  }\n}\nexport let CoffeeTalkComponent = /*#__PURE__*/(() => {\n  class CoffeeTalkComponent {\n    constructor() {\n      this.title = 'Coffee Talk';\n      this.showMenu = false;\n      this.coffeeItems = [];\n      this.randomBrands = ['Mocha Bros', 'Latte Co', 'Espresso Express', 'Cappuccino House', 'Americano Ltd', 'Macchiato Makers', 'Ristretto Roasters', 'Affogato Artisans', 'Cortado Cafe', 'Doppio Drinks', 'Irish Brew', 'Turkish Delight', 'Vienna Beans', 'Flatwhite Friends', 'Lungo Lounge', 'Redeye Roasters', 'Piccolo Place', 'Borgia Beans', 'Mazagran Market', 'Galao Group'];\n      this.randomNames = ['Sunrise', 'Velvet', 'Harmony', 'Bliss', 'Fusion', 'Dream', 'Pulse', 'Twist', 'Echo', 'Aura', 'Flare', 'Nova', 'Zen', 'Rush', 'Spark', 'Muse', 'Vibe', 'Chill', 'Roast', 'Drift'];\n      for (let i = 0; i < 16; i++) {\n        this.coffeeItems.push({\n          image: this.generateBrownImage(),\n          brand: this.randomBrand(),\n          name: this.randomName(),\n          rating: this.randomRating()\n        });\n      }\n    }\n    toggleMenu() {\n      this.showMenu = !this.showMenu;\n    }\n    closeMenu() {\n      this.showMenu = false;\n    }\n    randomBrand() {\n      return this.randomBrands[Math.floor(Math.random() * this.randomBrands.length)];\n    }\n    randomName() {\n      return this.randomNames[Math.floor(Math.random() * this.randomNames.length)];\n    }\n    randomRating() {\n      return Math.floor(Math.random() * 5) + 1;\n    }\n    // Generate a 400x400 brown square as a base64 JPEG\n    generateBrownImage() {\n      const canvas = document.createElement('canvas');\n      canvas.width = 400;\n      canvas.height = 400;\n      const ctx = canvas.getContext('2d');\n      if (ctx) {\n        ctx.fillStyle = this.randomBrown();\n        ctx.fillRect(0, 0, 400, 400);\n      }\n      return canvas.toDataURL('image/jpeg');\n    }\n    randomBrown() {\n      const browns = ['#4B2E05', '#7B3F00', '#8B5C2A', '#A0522D', '#C19A6B', '#6F4E37', '#8B4513', '#A67B5B', '#B87333', '#7C482B', '#5C4033', '#9C661F', '#A1866F', '#7E5C3E', '#A9746E', '#8D5524'];\n      return browns[Math.floor(Math.random() * browns.length)];\n    }\n    getStars(rating) {\n      return Array(5).fill(false).map((_, i) => i < rating);\n    }\n    static {\n      this.ɵfac = function CoffeeTalkComponent_Factory(t) {\n        return new (t || CoffeeTalkComponent)();\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: CoffeeTalkComponent,\n        selectors: [[\"coffeetalk-root\"]],\n        decls: 13,\n        vars: 4,\n        consts: [[1, \"app-header\"], [\"color\", \"primary\", 1, \"header-toolbar\"], [1, \"spacer\"], [\"mat-icon-button\", \"\", \"aria-label\", \"Menu\", 3, \"click\"], [\"class\", \"custom-dropdown-menu\", 4, \"ngIf\"], [\"class\", \"add-dialog-backdrop\", 3, \"click\", 4, \"ngIf\"], [1, \"main-content\"], [1, \"coffee-grid\"], [\"class\", \"coffee-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"custom-dropdown-menu\"], [1, \"dropdown-item\", 3, \"click\"], [1, \"add-dialog-backdrop\", 3, \"click\"], [1, \"add-dialog\", 3, \"click\"], [\"type\", \"file\", \"accept\", \"image/*\", 3, \"change\"], [\"class\", \"preview-img\", 4, \"ngIf\"], [\"type\", \"text\", \"maxlength\", \"10\", \"placeholder\", \"Brand (max 10 chars)\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"text\", \"maxlength\", \"10\", \"placeholder\", \"Name (max 10 chars)\", 3, \"ngModelChange\", \"ngModel\"], [1, \"dialog-actions\"], [3, \"click\", \"disabled\"], [3, \"click\"], [1, \"preview-img\"], [\"alt\", \"Preview\", \"width\", \"100\", \"height\", \"100\", 3, \"src\"], [1, \"coffee-item\"], [\"width\", \"100\", \"height\", \"100\", \"alt\", \"Coffee image\", 1, \"coffee-image\", 3, \"src\"], [1, \"coffee-brand\"], [1, \"coffee-name\"], [1, \"coffee-rating\"], [4, \"ngFor\", \"ngForOf\"]],\n        template: function CoffeeTalkComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"header\", 0)(1, \"mat-toolbar\", 1)(2, \"span\");\n            i0.ɵɵtext(3);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(4, \"span\", 2);\n            i0.ɵɵelementStart(5, \"button\", 3);\n            i0.ɵɵlistener(\"click\", function CoffeeTalkComponent_Template_button_click_5_listener() {\n              return ctx.toggleMenu();\n            });\n            i0.ɵɵelementStart(6, \"mat-icon\");\n            i0.ɵɵtext(7, \"menu\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵtemplate(8, CoffeeTalkComponent_div_8_Template, 11, 0, \"div\", 4);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(9, CoffeeTalkComponent_div_9_Template, 13, 4, \"div\", 5);\n            i0.ɵɵelementStart(10, \"div\", 6)(11, \"div\", 7);\n            i0.ɵɵtemplate(12, CoffeeTalkComponent_div_12_Template, 8, 4, \"div\", 8);\n            i0.ɵɵelementEnd()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(3);\n            i0.ɵɵtextInterpolate(ctx.title);\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"ngIf\", ctx.showMenu);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.showAddDialog);\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngForOf\", ctx.coffeeItems);\n          }\n        },\n        dependencies: [i1.NgForOf, i1.NgIf, i2.MatToolbar, i3.MatIcon, i4.MatIconButton],\n        styles: [\".add-dialog-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000040;z-index:4000;display:flex;align-items:center;justify-content:center}.add-dialog[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 4px 24px #0000002e;padding:24px 20px 16px;min-width:260px;max-width:90vw;display:flex;flex-direction:column;align-items:center}.add-dialog[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-bottom:16px}.add-dialog[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{margin-bottom:12px}.add-dialog[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{margin-bottom:12px;padding:6px 10px;border:1px solid #ccc;border-radius:6px;width:90%;font-size:1em}.preview-img[_ngcontent-%COMP%]{margin-bottom:12px}.dialog-actions[_ngcontent-%COMP%]{display:flex;gap:12px;margin-top:8px}.dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 18px;border:none;border-radius:6px;background:sienna;color:#fff;font-size:1em;cursor:pointer;transition:background .2s}.dialog-actions[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{background:#ccc;cursor:not-allowed}.custom-dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:64px;right:16px;width:50vw;min-width:160px;max-width:320px;background:#fff;border-radius:12px;box-shadow:0 4px 24px #0000002e;border:1px solid #d7ccc8;z-index:3001;padding:8px 0;display:flex;flex-direction:column;align-items:stretch}.dropdown-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 20px;background:none;border:none;width:100%;font-size:1rem;color:#4b2e05;cursor:pointer;transition:background .2s}.dropdown-item[_ngcontent-%COMP%]:hover{background:#f5f5f5}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}header.app-header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;z-index:100;box-shadow:0 2px 8px #0000001f;background:linear-gradient(90deg,#6f4e37,sienna)}.header-toolbar[_ngcontent-%COMP%]{min-height:64px;background:transparent;color:#fff}.main-content[_ngcontent-%COMP%]{padding:16px;margin-top:64px}.coffee-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:16px;width:100%;box-sizing:border-box}.coffee-brand[_ngcontent-%COMP%]{font-size:.95em;color:#7b3f00;font-weight:500;margin-bottom:2px}.coffee-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;background:#fff;border-radius:8px;box-shadow:0 2px 8px #00000012;padding:12px}.coffee-image[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:8px;margin-bottom:8px}.coffee-name[_ngcontent-%COMP%]{font-weight:600;margin-bottom:4px;text-align:center}.coffee-rating[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:sienna;font-size:20px}\"]\n      });\n    }\n  }\n  return CoffeeTalkComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}